# MODEL_ROUTING.md

업데이트: 2026-02-23

## 목표
- 기획/문체 품질은 Claude 계열로 강화
- 구현/수정 속도는 GPT(Codex) 계열로 강화
- 최종 결과는 교차 QA로 안정화

---

## 1) 기본 라우팅 규칙

### Claude(Claude Code) 담당
- 요구사항 정제/기획 구조화
- UX 카피/문체 가이드
- 리포트 톤/표현 품질
- 정보 구조 설계(섹션, 흐름, 독자 피로도)
- 최종 사용자 텍스트 polishing

### GPT/Codex 담당
- 라우트/컴포넌트/API 실제 구현
- 반복적인 대량 수정
- 타입 오류/빌드 오류 고속 복구
- 테스트 코드/스크립트/자동화성 작업
- 배포 준비(기계적 점검)

---

## 2) 표준 작업 플로우

1. Claude: 기획/카피 초안 생성
2. GPT: 코드 구현
3. Claude: 문체/UX/설명 품질 리뷰
4. GPT: 리뷰 반영 코드 수정
5. 공통 QA: typecheck/build/smoke test
6. 배포

---

## 3) 품질 게이트(필수)
- `pnpm --filter @saju/web typecheck` 통과
- `pnpm --filter @saju/web build` 통과
- 핵심 라우트 응답 확인
  - `/`, `/free-fortune`, `/result`, `/paywall`, `/report/[orderId]`
- 텍스트 QA
  - 과장/단정 표현 금지
  - 확률형 문장 유지
  - 용어 설명이 문장 맥락에 자연스럽게 삽입

---

## 4) 이번 프로젝트 고정 규칙(사주 서비스)
- 무료: 요약 중심
- 유료: 단일 상품
- 본문: 대화형 장문 문단
- 구조: 성격/직업/연애/금전/건강/가족·배우자 × 과거-현재-미래
- 마지막: 대운 타임라인

---

## 5) 작업 지시 템플릿

### Claude용
- 목적: 기획/카피/문체
- 산출물: 페이지 카피, 문체 가이드, 섹션 템플릿, 금지 표현
- 제약: 확률형 문장, 과장 금지, 독자 친화

### GPT용
- 목적: 구현/수정/배포
- 산출물: 변경 파일 + 검증 로그 + 에러 수정
- 제약: 기존 기능 보존, 빌드 통과, 커밋 단위 분리

---

## 6) 운영 체크리스트(짧게)
- [ ] 작업 시작 알림 발송
- [ ] 10% 단위 진행 알림 발송
- [ ] 완료 알림 발송
- [ ] 전체 QA 완료 알림 발송
- [ ] `docs/PROJECT_HANDOFF_LOG.md` 갱신
